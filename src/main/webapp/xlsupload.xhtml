<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:body>
<h2>Синхронизация SKU</h2>
<h3>Загрузка XLS-файла для анализа</h3>
<h:messages id="messages" errorClass="err" warnClass="warn" infoClass="info" style="color: #FF8080" showDetail="true" showSummary="true"/>
	<h:form id="XLSUploadForm" enctype="multipart/form-data" rendered="#{loginBean.loggedIn}">
	
		<h:inputFile id="file" value="#{XLSUpload.file}"/>
	 	<br></br>
	 	<h:commandButton value="Загрузить файл SKU_BASE_1C.xls ..."
      		action="#{XLSUpload.checkXLSFile()}" id="uploadButton">
<!--     		<f:ajax execute="file" render="@all"/> -->
  		</h:commandButton>
  		

  		<h:panelGrid columns="2">
  		<h:selectBooleanCheckbox value="#{XLSUpload.fileUploaded}" id="Uploadcheckbox">
		</h:selectBooleanCheckbox>
		 <h:outputLabel value="XLS-файл успешно загружен" for="Uploadcheckbox" />
  		<h:selectBooleanCheckbox value="#{XLSUpload.uploadedXLSValidationResult}" id="XLScheckbox">
		</h:selectBooleanCheckbox>
		 <h:outputLabel value="XLS-файл успешно проверен" for="XLScheckbox" />
		 </h:panelGrid>


<!-- 		<h:link value="Обработать файл SKU_BASE_1C.xls ..." outcome="xlsprocessor"  -->
<!-- 		rendered="#{XLSUpload.fileUploaded and XLSUpload.uploadedXLSValidationResult}"></h:link> -->
		<h:panelGrid columns="1">
		<h:commandButton value="Обработать файл SKU_BASE_1C.xls ..."  
		action="#{XLSUpload.goToXLSProcessor}"
		rendered="#{XLSUpload.fileUploaded and XLSUpload.uploadedXLSValidationResult}"
		id="processButton">
		</h:commandButton>
		<h:commandButton value="Выход" rendered="#{loginBean.loggedIn}"
		action="#{loginBean.logout}" id="logoutButton"></h:commandButton>
		</h:panelGrid>
		</h:form>
<!-- 		<h:panelGrid columns="1"  rendered="#{not empty skuMain.exceptionString}"> -->
<!-- 		<h:outputLabel value="Журнал ошибок"></h:outputLabel> -->
<!-- 		<h:inputTextarea value="#{skuMain.exceptionString}" -->
<!--       		readonly="true" cols="130" rows="40"/> -->
<!--       	</h:panelGrid>	 -->
</h:body>	
	
</html>
