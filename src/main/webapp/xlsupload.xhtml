<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

    <f:metadata>
        <f:viewAction action="#{loginBean.initializeApplicationSession()}"/>
    </f:metadata>

<head>
<title>SKU web sync - Загрузка XLS-файла для анализа</title>
</head>

<h:body>
<h2>Синхронизация SKU</h2>
<h3>Загрузка XLS-файла для анализа</h3>
<h:messages id="messages" errorClass="err" warnClass="warn" infoClass="info" style="color: #FF8080" showDetail="true" showSummary="true"/>
	<h:form id="XLSUploadForm" enctype="multipart/form-data"> <!--  rendered="#{XLSUpload.sessionManager.loggedIn}">  -->
	
		<h:inputFile id="file" value="#{XLSUpload.file}"/>
	 	<br></br>
	 	<h:commandButton value="Загрузить файл SKU_BASE_1C.xls ..."
      		action="#{XLSUpload.checkXLSFile()}" id="uploadButton">
  		</h:commandButton>
  		

  		<h:panelGrid columns="2">
  		<h:selectBooleanCheckbox value="#{XLSUpload.fileUploaded}" id="Uploadcheckbox">
		</h:selectBooleanCheckbox>
		 <h:outputLabel value="XLS-файл успешно загружен" for="Uploadcheckbox" />
  		<h:selectBooleanCheckbox value="#{XLSUpload.uploadedXLSValidationResult}" id="XLScheckbox">
		</h:selectBooleanCheckbox>
		 <h:outputLabel value="XLS-файл успешно проверен" for="XLScheckbox" />
		 </h:panelGrid>

		<h:panelGrid columns="1">
		<h:commandButton value="Обработать файл SKU_BASE_1C.xls ..."  
		action="#{XLSUpload.goToXLSProcessor}"
		rendered="#{XLSUpload.fileUploaded and XLSUpload.uploadedXLSValidationResult}"
		id="processButton">
		</h:commandButton>
		<h:commandButton value="Выход" 
		action="#{loginBean.logout}" id="logoutButton"></h:commandButton>
		</h:panelGrid>
		</h:form>
</h:body>	
	
</html>
